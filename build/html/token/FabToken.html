

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using FabToken &mdash; hyperledger-fabricdocs master 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Pluggable transaction endorsement and validation" href="../pluggable_endorsement_and_validation.html" />
    <link rel="prev" title="Endorsement policies" href="../endorsement-policies.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          


          
            <a href="../index.html" class="icon icon-home"> hyperledger-fabricdocs
          

          
          </a>

          
            
            
              <div class="version">
                master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

<br><img style="background-color: #fff; height: unset; width: unset;" alt="Hyperledger Fabric" src=../_images/hyperledger_fabric_logo_color.png />
<br>
<a href="https://github.com/hyperledger/fabric"><img style="padding: 0px; margin: auto auto auto auto;" alt="GitHub" src="../_static/images/github_button.png"/></a>
&nbsp;<a href="https://stackoverflow.com/questions/tagged/hyperledger-fabric"><img style="padding: 0px; margin: auto auto auto auto;" alt="StackOverflow" src="../_static/images/stackoverflow_button.png"/></a>
&nbsp;<a href="https://chat.hyperledger.org"><img style="padding: 0px; margin: auto auto auto auto;" alt="Rocket Chat" src="../_static/images/rocketchat_button.png"/></a>
&nbsp;<a href="https://www.youtube.com/playlist?list=PL0MZ85B_96CH7wvtrRzV7SvtRY0sI0DEg"><img style="padding: 0px; margin: auto auto auto auto;" alt="Youtube Channel" src="../_static/images/youtube_button.png"/></a>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../whatis.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whatsnew.html">v2.0 Alpha 新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whatsnew.html#release-notes">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../key_concepts.html">Key Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developapps/developing_applications.html">开发应用程序</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../ops_guide.html">操作指南</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../upgrade_to_newest_version.html">Upgrading to the Newest Version of Fabric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../orderer_deploy.html">Setting up an ordering node</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config_update.html">Updating a Channel Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../msp.html">成员服务提供者（MSP）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configtx.html">Channel Configuration (configtx)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../endorsement-policies.html">Endorsement policies</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Using FabToken</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-is-fabtoken">What is FabToken</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-token-lifecycle">The token lifecycle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#issuing-tokens">Issuing tokens</a></li>
<li class="toctree-l4"><a class="reference internal" href="#list">List</a></li>
<li class="toctree-l4"><a class="reference internal" href="#transfer">Transfer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#redeem">Redeem</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#the-token-transaction-flow">The token transaction flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fabtoken-example">FabToken Example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#start-the-network">Start the network</a></li>
<li class="toctree-l4"><a class="reference internal" href="#issue-tokens">Issue tokens</a></li>
<li class="toctree-l4"><a class="reference internal" href="#transferring-tokens">Transferring tokens</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#redeeming-tokens">Redeeming tokens</a></li>
<li class="toctree-l3"><a class="reference internal" href="#future-features">Future features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pluggable_endorsement_and_validation.html">Pluggable transaction endorsement and validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../access_control.html">Access Control Lists (ACL)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../idemix.html">MSP Implementation with Identity Mixer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../idemixgen.html">Identity Mixer MSP configuration generator (idemixgen)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations_service.html">The Operations Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics_reference.html">Metrics Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-handling.html">Error handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging-control.html">Logging Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../enable_tls.html">使用传输层安全性(TLS)确保安全通信</a></li>
<li class="toctree-l2"><a class="reference internal" href="../raft_configuration.html">Configuring and operating a Raft ordering service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka.html">Bringing up a Kafka-based Ordering Service</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../command_ref.html">命令参考</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">架构参考</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fabric-FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributions Welcome!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">发布</a></li>
<li class="toctree-l1"><a class="reference internal" href="../questions.html">Still Have Questions?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../status.html">Status</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">hyperledger-fabricdocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../ops_guide.html">操作指南</a> &raquo;</li>
        
      <li>Using FabToken</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/token/FabToken.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-fabtoken">
<h1>Using FabToken<a class="headerlink" href="#using-fabtoken" title="永久链接至标题">¶</a></h1>
<p>FabToken允许用户轻松标记Hyperledger Fabric上的资产。Token作为Fabric v2.0中的Alpha版本特性引入。您可以使用以下操作指南了解FabToken并开始使用token。您可以在本指南的末尾找到一个在Fabric上创建token的示例，该示例扩展了BYFN教程。</p>
<ul class="simple">
<li><p><a class="reference external" href="#what-is-fabtoken">What is FabToken</a></p></li>
<li><p><a class="reference external" href="#the-token-lifecycle">The Token lifecycle</a></p></li>
<li><p><a class="reference external" href="#the-token-transaction-flow">The Token transaction flow</a></p></li>
<li><p><a class="reference external" href="#fabtoken-example">FabToken example</a></p></li>
<li><p><a class="reference external" href="#future-features">Future features</a></p></li>
</ul>
<div class="section" id="what-is-fabtoken">
<h2>What is FabToken<a class="headerlink" href="#what-is-fabtoken" title="永久链接至标题">¶</a></h2>
<p>将资产表示为Token允许您使用区块链账本来建立项目的惟一状态和所有权，并使用多方信任的共识机制来转移所有权。只要账本是安全的，资产就是不可变的，未经所有者同意不能转让。</p>
<p>Token可以代表有形资产，比如流经供应链的货物或正在交易的金融工具。代币也可以代表无形资产，如忠诚度点数。因为没有所有者的同意不能转让token，而且交易是在分布式账本上验证的，所以将资产表示为token可以降低跨多方转让资产的风险和难度。</p>
<p>FabToken是一个token管理系统，允许您使用Hyperledger Fabric发出、转账和赎回token。Token存储在channel账本上，可以由channel的任何成员拥有。FabToken使用Fabric的成员服务来验证token所有者的身份，并管理其公钥和私钥。Fabric token交易只有由具有有效MSP标识符的token所有者发出时才有效。</p>
<p>FabToken提供了一个简单的接口来标记Fabric channel上的资产，同时利用channel提供的验证和信任。Token使用channel排序节点和peer节点进行共识和验证。Token还使用channel策略来控制允许哪些成员拥有和发出Token。然而，用户不需要使用智能合约来创建或管理token。Token可以建立资产的不变性和所有权，而不需要channel成员编写和批准复杂的业务逻辑来创建和管理这些资产。Token所有者可以使用自己信任的节点来创建token交易，而不必依赖于属于其他组织的节点来执行或背书交易。</p>
</div>
<div class="section" id="the-token-lifecycle">
<h2>The token lifecycle<a class="headerlink" href="#the-token-lifecycle" title="永久链接至标题">¶</a></h2>
<p>Token在Hyperledger Fabric内部有一个闭环的生命周期，可以发行、转让、赎回。</p>
<ul class="simple">
<li><p>Tokens are created by being <strong>issued</strong>. The token issuer defines the type of
asset represented by the tokens and the quantity. The issuer also assigns
issued tokens to their original owners.</p></li>
<li><p>Tokens are “spent” by being <strong>transferred</strong>. The token owner transfers the asset
represented by token to a new owner that is a member of the fabric channel.
Once the token has been transferred, it can no longer be spent or accessed by
the previous owner.</p></li>
<li><p>Tokens are removed from the channel by being <strong>redeemed</strong>. Redeemed tokens are
no longer owned by any channel member and thus can no longer be spent.</p></li>
</ul>
<p>FabToken使用一种未花费的交易输出(UTXO)模型来验证token交易。UTXO交易是一种强大的保证，可以保证资产是唯一的，只能由所有者转移，并且不能双花。每笔交易都需要一组特定的输出和输入。输出是交易创建的新token。这些在账本上以“未花费”状态列出。输入需要作为另一个交易的输出创建的未花费token。当交易被验证时，从通道账本的状态数据库中删除已使用的token，从而销毁已使用的token。</p>
<p>Token生命周期构建在UTXO模型之上，以确保token是唯一的，并且只能使用一次。当发行token时，它将以发行方指定的属于所有者的未花费状态创建。然后，所有者可以转让或赎回token。在做token转账时，将创建转账交易者拥有的token作为输入。交易的输出是转账的接收方拥有的新token。输入token变为“已花费”，并从状态数据库中删除。所转移的token表示的资产数量需要与输出的数量相同。被赎回的token被转移到一个空的所有者。这使得赎回的token不可能由通道的任何成员再次转账。</p>
<p>下面的指南描述了如何在Fabric中创建和使用token。这些说明详细说明了在使用Fabric token client、Fabric SDKs提供的API或token CLI时，使用FabToken需要哪些步骤和信息。您可以在本指南的末尾找到一个FabToken示例。</p>
<div class="section" id="issuing-tokens">
<h3>Issuing tokens<a class="headerlink" href="#issuing-tokens" title="永久链接至标题">¶</a></h3>
<p>Token只能由发行者创建。发行者是通道成员，他们被发行策略授予发行token的权限。满足策略的用户可以使用发行交易将token添加到账本中。</p>
<p>Token有三个属性：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Owner</span></code> identifies the channel member that can transfer or redeem the new
token through its MSP identity.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Type</span></code> describes the asset the token represents, such as USD, EUR, or
BYFNcoins in the example below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Quantity</span></code> is the number of units of <code class="docutils literal notranslate"><span class="pre">Type</span></code> that the <code class="docutils literal notranslate"><span class="pre">Token</span></code> represents.</p></li>
</ul>
<p>例如，美元类型的每个token可以表示100美元。每一美元不需要是一个单独的token。为了消费50美元的token，或者添加50美元，将创建表示新数量单位的新token。</p>
<p>发行策略还可以限制哪些用户可以发布特定类型的token。在Fabric v2.0 Alpha版中，IssuingPolicy被设置为ANY，这意味着所有通道成员都可以发出任何类型的token。在将来的版本中，用户可以限制此策略。</p>
</div>
<div class="section" id="list">
<h3>List<a class="headerlink" href="#list" title="永久链接至标题">¶</a></h3>
<p>您可以使用List方法或命令查询您拥有的未花费的token。一个成功执行的list命令返回以下值:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TokenID</span></code> is the identifier of each token you own.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Type</span></code> is the asset your tokens represent.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Quantity</span></code> is number of units of <code class="docutils literal notranslate"><span class="pre">Type</span></code> in hexadecimal format of each asset
that you own.</p></li>
</ul>
</div>
<div class="section" id="transfer">
<h3>Transfer<a class="headerlink" href="#transfer" title="永久链接至标题">¶</a></h3>
<p>您可以通过将自己拥有的token转账给其他通道成员来花费它们。您可以通过提供以下值来进行token转账：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Token</span> <span class="pre">ID</span></code>: The ID of the tokens you want to transfer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Quantity</span></code>: The amount of the asset represented by each token to be
transferred.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Recipient</span></code>: The MSP identifier of the channel member you want to transfer the
assets to.</p></li>
</ul>
<p>注意，转账交易针对token所表示的基础资产，而不是交易token本身。相反，新的token是由转账交易创建的。例如，如果您拥有一个值100美元的token，您可以使用该token花费50美元。转账交易将创建两个新的token作为输出。一个代表50美元的token将属于您，另一个代表50美元的token将属于收款人。</p>
<p>被转账到交易接收者的资产数量需要与输入token所代表的资产数量相同。如果您不想转出token所表示的资产的全部数量，您可以只转资产的一部分，并且交易将自动使您成为余额的所有者。使用上面的示例，如果只花费100美元token中的50美元，那么转账交易将自动创建一个价值50美元的新token，并将您作为所有者。</p>
<p>为取得成功，转账须符合下列条件：</p>
<ul class="simple">
<li><p>The tokens being transferred need to belong to the transaction initiator and
are unspent.</p></li>
<li><p>All input tokens of the transaction need to be of the same type.</p></li>
</ul>
</div>
<div class="section" id="redeem">
<h3>Redeem<a class="headerlink" href="#redeem" title="永久链接至标题">¶</a></h3>
<p>赎回的token不能再花费。赎回token的操作会从由通道管理的业务网络中删除资产，并确保不能再转账或更改该资产。如果供应链中的物品到达了最终目的地，或者金融资产到达了期限，则表示该资产的token可以被赎回，因为该资产不再需要由通道成员使用。</p>
<p>所有者赎回token需要提供以下参数：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Token</span> <span class="pre">ID</span></code>: The ID of the token you want to redeem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Quantity</span></code>: The quantity of the asset represented by each token you want to
redeem.</p></li>
</ul>
<p>只有token所有者提交赎回交易时才能赎回token。不需要赎回token所表示的全部资产数量。例如，如果您有一个表示100美元的token，并且想赎回50美元，那么赎回交易将创建一个值50美元的新token，并将另一个50美元转移到一个没有所有者的受限帐户。因为该账户没有所有者，50美元不能再被任何通道的成员转移。</p>
</div>
</div>
<div class="section" id="the-token-transaction-flow">
<h2>The token transaction flow<a class="headerlink" href="#the-token-transaction-flow" title="永久链接至标题">¶</a></h2>
<p>Fabtoken绕过了标准的Hyperledger Fabric背书流程。针对链码的交易需要在足够多的组织的peer节点上执行，以满足链码背书策略。这将确保交易的结果与智能合约的逻辑保持一致，并且该逻辑的结果已被多个组织验证。由于token是资产的唯一表示形式，只能由其所有者转移或赎回，因此不需要多个组织验证初始交易。</p>
<p>Token CLI和Node.js版的Fabric SDK都包含FabToken client模块，模块可以利用可信节点，或称为校准节点，创建token交易。例如，属于操作节点的组织的用户可以使用该节点查询其token并使用它们。如果连接到启用了V2_0功能的通道，那么任何具有Fabric 2.0 Alpha代码的节点都可以用作校准节点。</p>
<ul class="simple">
<li><p>In the case of an <code class="docutils literal notranslate"><span class="pre">issue</span></code> transaction, the prover peer will verify that
the requested operation satisfies the <code class="docutils literal notranslate"><span class="pre">IssuingPolicy</span></code> associated with the
tokens being created.</p></li>
<li><p>In the case of <code class="docutils literal notranslate"><span class="pre">transfer</span></code>, <code class="docutils literal notranslate"><span class="pre">redeem</span></code> and <code class="docutils literal notranslate"><span class="pre">list</span></code>, the peer checks that the
input tokens are unspent and belong to the entity requesting the transaction.</p></li>
<li><p>In the case of <code class="docutils literal notranslate"><span class="pre">transfer</span></code> and <code class="docutils literal notranslate"><span class="pre">redeem</span></code>, the peer checks that the input
and output tokens are all of the same <code class="docutils literal notranslate"><span class="pre">type</span></code> and that the output tokens have
the same <code class="docutils literal notranslate"><span class="pre">type</span></code> and sum up to the same <code class="docutils literal notranslate"><span class="pre">quantity</span></code> as the input tokens.</p></li>
</ul>
<p>一旦client在校准节点的帮助下生成了token交易，它就将交易发送给排序服务。然后，排序服务将交易发送给提交节点以进行验证并添加到账本中。提交节点检查交易是否符合UTXO交易模型，以及基础资产是否被双花或超额使用。</p>
</div>
<div class="section" id="fabtoken-example">
<h2>FabToken Example<a class="headerlink" href="#fabtoken-example" title="永久链接至标题">¶</a></h2>
<p>您可以尝试使用BYFN教程中的示例网络亲自处理token，比如发行和转账token。在本例中，我们将使用Token CLI在./byfn.sh脚本创建的通道上交易一些token化的BYFNcoins。</p>
<p>您还可以使用Node.js版的Fabric SDK来处理token。访问Node.js版Fabric SDK文档中的“如何执行token操作”教程。您还可以找到一个示例，它使用Node.js版Fabric SDK，在fabric-samples中发行、转账和赎回token。</p>
<div class="section" id="start-the-network">
<h3>Start the network<a class="headerlink" href="#start-the-network" title="永久链接至标题">¶</a></h3>
<p>第一步是打开示例网络。./byfn.sh脚本创建了一个由两个组织Org1和Org2组成的Fabric网络，其中的节点连接到一个名为mychannel的通道。我们将使用mychannel发行token，并在Org1和Org2之间转移它们。</p>
<p>首先，我们需要清理我们的环境。下面的命令将导航到fabric-samples目录，杀死所有活动的或陈旧的Docker容器，并删除以前生成的内容：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">fabric</span><span class="o">-</span><span class="n">samples</span><span class="o">/</span><span class="n">first</span><span class="o">-</span><span class="n">network</span>
<span class="o">./</span><span class="n">byfn</span><span class="o">.</span><span class="n">sh</span> <span class="n">down</span>
</pre></div>
</div>
<p>首先需要生成示例网络所需的构件。运行以下命令：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">byfn</span><span class="o">.</span><span class="n">sh</span> <span class="n">generate</span>
</pre></div>
</div>
<p>我们需要添加一些在后面步骤中需要的文件。导航到first-network目录中的crypto-config目录。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">crypto</span><span class="o">-</span><span class="n">config</span>
</pre></div>
</div>
<p>Token CLI使用的来自每个组织的配置文件，包含关于组织信任哪些节点以及往哪个排序节点发送交易的信息。下面是Org1的配置文件。请注意，Org1使用它自己的节点作为校准节点，并在文件的“ProverPeer”部分中提供节点端点信息。</p>
<details>
  <summary>
    **Org1 Configuration file**
  </summary>
```
{
  "ChannelID":"",
  "MSPInfo":{
    "MSPConfigPath":"",
    "MSPID":"Org1MSP",
    "MSPType":"bccsp"
  },
  "Orderer":{
    "Address":"orderer.example.com:7050",
    "ConnectionTimeout":0,
    "TLSEnabled":true,
    "TLSRootCertFile":"/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem",
    "ServerNameOverride":""
  },
  "CommitterPeer":{
    "Address":"peer0.org1.example.com:7051",
    "ConnectionTimeout":0,
    "TLSEnabled":true,
    "TLSRootCertFile":"/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt",
    "ServerNameOverride":""
  },
  "ProverPeer":{
    "Address":"peer0.org1.example.com:7051",
    "ConnectionTimeout":0,
    "TLSEnabled":true,
    "TLSRootCertFile":"/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt",
    "ServerNameOverride":""
  }
}
```
</details><p>将上面的文件粘贴到文本编辑器中，并将其保存为configorg1.json。保存configorg1之后，在文本编辑器中创建一个新文件，并粘贴下面的json文件。在相同位置将文件保存为configorg2.json：</p>
<details>
  <summary>
    **Org2 Configuration file**
  </summary>
```
{
  "ChannelID":"",
  "MSPInfo":{
    "MSPConfigPath":"",
    "MSPID":"Org2MSP",
    "MSPType":"bccsp"
  },
  "Orderer":{
    "Address":"orderer.example.com:7050",
    "ConnectionTimeout":0,
    "TLSEnabled":true,
    "TLSRootCertFile":"/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem",
    "ServerNameOverride":""
  },
  "CommitterPeer":{
    "Address":"peer0.org2.example.com:9051",
    "ConnectionTimeout":0,
    "TLSEnabled":true,
    "TLSRootCertFile":"/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt",
    "ServerNameOverride":""
  },
  "ProverPeer":{
    "Address":"peer0.org2.example.com:9051",
    "ConnectionTimeout":0,
    "TLSEnabled":true,
    "TLSRootCertFile":"/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt",
    "ServerNameOverride":""
  }
}
```
</details><p>现在我们需要保存一个额外的文件，以便在转移token时使用。在文本编辑器中创建一个新文件，并将下面的文件保存为share.json：</p>
<details>
  <summary>
    **shares.json**
  </summary>
```
[
    {
    "recipient":"Org2MSP:/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp",
    "quantity":"50"
    }
]
```
</details><p>现在，您可以导航回fabric-samples目录并启动sample网络：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">..</span>
<span class="o">/</span><span class="n">byfn</span><span class="o">.</span><span class="n">sh</span> <span class="n">up</span>
</pre></div>
</div>
<p>该命令将创建用于发行和转账token的orgs、peers、orderers和channel。当命令成功完成时，您应该会看到以下结果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">=========</span> <span class="n">All</span> <span class="n">GOOD</span><span class="p">,</span> <span class="n">BYFN</span> <span class="n">execution</span> <span class="n">completed</span> <span class="o">===========</span>

 <span class="n">_____</span>   <span class="n">_</span>   <span class="n">_</span>   <span class="n">____</span>
<span class="o">|</span> <span class="n">____</span><span class="o">|</span> <span class="o">|</span> \ <span class="o">|</span> <span class="o">|</span> <span class="o">|</span>  <span class="n">_</span> \
<span class="o">|</span>  <span class="n">_</span><span class="o">|</span>   <span class="o">|</span>  \<span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span>
<span class="o">|</span> <span class="o">|</span><span class="n">___</span>  <span class="o">|</span> <span class="o">|</span>\  <span class="o">|</span> <span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span>
<span class="o">|</span><span class="n">_____</span><span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span> \<span class="n">_</span><span class="o">|</span> <span class="o">|</span><span class="n">____</span><span class="o">/</span>
</pre></div>
</div>
</div>
<div class="section" id="issue-tokens">
<h3>Issue tokens<a class="headerlink" href="#issue-tokens" title="永久链接至标题">¶</a></h3>
<p>我们将标记100个BYFNcoins，这只能由我们信任的朋友在我们的示例网络上发行和交易。使用以下命令导航到CLI容器：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">exec</span> <span class="o">-</span><span class="n">it</span> <span class="n">cli</span> <span class="n">bash</span>
</pre></div>
</div>
<p>使用下面的命令作为Org1管理员发出一个值100 BYFNcoins的token。该命令使用configorg1.json查找org1的校准节点的端口地址，它将使用该端口地址组装交易。注意，Org1管理员提交交易，但是Org1的User1将是token所有者。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Issue the token as Org1</span>

<span class="n">token</span> <span class="n">issue</span> <span class="o">--</span><span class="n">config</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">configorg1</span><span class="o">.</span><span class="n">json</span> <span class="o">--</span><span class="n">mspPath</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">peerOrganizations</span><span class="o">/</span><span class="n">org1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="n">Admin</span><span class="nd">@org1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">msp</span> <span class="o">--</span><span class="n">channel</span> <span class="n">mychannel</span> <span class="o">--</span><span class="nb">type</span> <span class="n">BYFNcoins</span> <span class="o">--</span><span class="n">quantity</span> <span class="mi">100</span> <span class="o">--</span><span class="n">recipient</span> <span class="n">Org1MSP</span><span class="p">:</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">peerOrganizations</span><span class="o">/</span><span class="n">org1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="n">User1</span><span class="nd">@org1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">msp</span>
</pre></div>
</div>
<p>一个成功的命令会产生一个类似如下的响应：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2019</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">12</span> <span class="mi">00</span><span class="p">:</span><span class="mi">49</span><span class="p">:</span><span class="mf">43.864</span> <span class="n">UTC</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">client</span><span class="p">]</span> <span class="n">BroadcastReceive</span> <span class="o">-&gt;</span> <span class="n">INFO</span> <span class="mi">001</span> <span class="n">calling</span> <span class="n">OrdererClient</span><span class="o">.</span><span class="n">broadcastReceive</span>
<span class="n">Orderer</span> <span class="n">Status</span> <span class="p">[</span><span class="n">SUCCESS</span><span class="p">]</span>
<span class="n">Committed</span> <span class="p">[</span><span class="n">true</span><span class="p">]</span>
</pre></div>
</div>
<p>您可以使用list命令查看创建的token。此命令由User1发出，它是新token的所有者。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># List the tokens belonging to User1 of Org1</span>

<span class="n">token</span> <span class="nb">list</span> <span class="o">--</span><span class="n">config</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">configorg1</span><span class="o">.</span><span class="n">json</span> <span class="o">--</span><span class="n">mspPath</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">peerOrganizations</span><span class="o">/</span><span class="n">org1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="n">User1</span><span class="nd">@org1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">msp</span> <span class="o">--</span><span class="n">channel</span> <span class="n">mychannel</span>
</pre></div>
</div>
<p>一个成功的命令会产生一个类似如下的响应：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;tx_id&quot;</span><span class="p">:</span><span class="s2">&quot;4e2664225d6a67508cfa539108383e682f3d03debb768aa7920851fdeea6f5b7&quot;</span><span class="p">}</span>
<span class="p">[</span><span class="n">BYFNcoins</span><span class="p">,</span><span class="mi">100</span><span class="p">]</span>
</pre></div>
</div>
<p>在命令输出中，您可以找到tokenID、类型和数量。tokenID是创建token的交易的transactionID。</p>
</div>
<div class="section" id="transferring-tokens">
<h3>Transferring tokens<a class="headerlink" href="#transferring-tokens" title="永久链接至标题">¶</a></h3>
<p>既然已经创建了token，那么Org1的User1现在可以通过将BYFNcoins转账给另一个用户来使用token。Org1的User1将给Org2的User1 50 BYFNcoins，同时自己保留50。</p>
<p>使用下面的命令启动转账。使用 tokenIDs 来标记转账列表中返回的tokenID。注意 – Shares 标记如何把一个JSON文件传递给Token CLI，该文件在Org2中将50 BYFNcoins分配给User1。这是您在启动网络之前在 crypto-config文件夹中创建的文件。因为输入token表示100个BYFNcoins，所以转账交易将自动创建一个属于Org1的User1的新token，它表示没有转账给Org2的50个BYFNcoins。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Transfer 50 BYFNcoins to User1 of Org2</span>
<span class="c1"># The split of coins tranfered to Org1 and Org2 is in shares.json</span>

<span class="n">token</span> <span class="n">transfer</span> <span class="o">--</span><span class="n">config</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">configorg1</span><span class="o">.</span><span class="n">json</span> <span class="o">--</span><span class="n">mspPath</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">peerOrganizations</span><span class="o">/</span><span class="n">org1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="n">User1</span><span class="nd">@org1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">msp</span> <span class="o">--</span><span class="n">channel</span> <span class="n">mychannel</span> <span class="o">--</span><span class="n">tokenIDs</span> <span class="s1">&#39;[{&quot;tx_id&quot;:&quot;4e2664225d6a67508cfa539108383e682f3d03debb768aa7920851fdeea6f5b7&quot;}]&#39;</span> <span class="o">--</span><span class="n">shares</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">shares</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>一旦你提交了上面的命令，你可以再次运行list命令来验证Org1的User1现在只有50 BYFNcoins：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># List the tokens belonging to User1 of Org1</span>

<span class="n">token</span> <span class="nb">list</span> <span class="o">--</span><span class="n">config</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">configorg1</span><span class="o">.</span><span class="n">json</span> <span class="o">--</span><span class="n">mspPath</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">peerOrganizations</span><span class="o">/</span><span class="n">org1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="n">User1</span><span class="nd">@org1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">msp</span> <span class="o">--</span><span class="n">channel</span> <span class="n">mychannel</span>
</pre></div>
</div>
<p>注意，现在的BYFNcoins与之前的有不同的tokenID。这次转账销毁了之前的token，并创建了一个价值50 BYFNcoins的新token。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;tx_id&quot;</span><span class="p">:</span><span class="s2">&quot;4eaf466884586106f480dd0bb4f675ddaa54d1290ea53e9c24a2c1344fb71d2c&quot;</span><span class="p">}</span>
<span class="p">[</span><span class="n">BYFNcoins</span><span class="p">,</span><span class="mi">50</span><span class="p">]</span>
</pre></div>
</div>
<p>您可以运行下面的命令来验证Org2的User1收到了50 BYFNcoins：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># List the tokens belonging to User1 of Org2</span>

<span class="n">token</span> <span class="nb">list</span> <span class="o">--</span><span class="n">config</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">configorg2</span><span class="o">.</span><span class="n">json</span> <span class="o">--</span><span class="n">mspPath</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">peerOrganizations</span><span class="o">/</span><span class="n">org2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="n">User1</span><span class="nd">@org2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">msp</span> <span class="o">--</span><span class="n">channel</span> <span class="n">mychannel</span>
</pre></div>
</div>
<p>Org2拥有的币的tokenID使用与Org1拥有的币相同的交易ID，因为它是由相同的交易创建的。但是，因为它是交易的第二个输出，所以还会给它一个索引，以区别于Org1拥有的token。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;tx_id&quot;</span><span class="p">:</span><span class="s2">&quot;4eaf466884586106f480dd0bb4f675ddaa54d1290ea53e9c24a2c1344fb71d2c&quot;</span><span class="p">,</span><span class="s2">&quot;index&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
<span class="p">[</span><span class="n">BYFNcoins</span><span class="p">,</span><span class="mi">50</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="redeeming-tokens">
<h2>Redeeming tokens<a class="headerlink" href="#redeeming-tokens" title="永久链接至标题">¶</a></h2>
<p>Tokens只能由其所有者赎回。一旦用token表示的资产被赎回，该token就不能再转移给任何其他所有者。</p>
<p>使用下面的命令赎回属于Org2的25个BYFNcoins。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Redeem tokens belonging to User1 of Org2</span>

<span class="n">token</span> <span class="n">redeem</span> <span class="o">--</span><span class="n">config</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">configorg2</span><span class="o">.</span><span class="n">json</span> <span class="o">--</span><span class="n">mspPath</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">peerOrganizations</span><span class="o">/</span><span class="n">org2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="n">User1</span><span class="nd">@org2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">msp</span> <span class="o">--</span><span class="n">channel</span> <span class="n">mychannel</span>  <span class="o">--</span><span class="n">tokenIDs</span> <span class="s1">&#39;[{&quot;tx_id&quot;:&quot;4eaf466884586106f480dd0bb4f675ddaa54d1290ea53e9c24a2c1344fb71d2c&quot;,&quot;index&quot;:1}]&#39;</span> <span class="o">--</span><span class="n">quantity</span> <span class="mi">25</span>
</pre></div>
</div>
<p>Org2现在只有一个值25 BYFNcoins的token。使用list命令验证Org2的User1拥有的BYFNcoins的数量。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># List the tokens belonging to User1 of Org2</span>

<span class="n">token</span> <span class="nb">list</span> <span class="o">--</span><span class="n">config</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">configorg2</span><span class="o">.</span><span class="n">json</span> <span class="o">--</span><span class="n">mspPath</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">peerOrganizations</span><span class="o">/</span><span class="n">org2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="n">User1</span><span class="nd">@org2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">msp</span> <span class="o">--</span><span class="n">channel</span> <span class="n">mychannel</span>
</pre></div>
</div>
<p>关注作为赎回交易的输出创建的新TokenID。</p>
<p>让我们尝试赎回属于其他用户的tokens。使用下面的命令尝试作为Org2赎回属于Org1的面值为50 BYFNcoins的token：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Redeem tokens as Org1 belonging to Org2</span>

<span class="n">token</span> <span class="n">redeem</span> <span class="o">--</span><span class="n">config</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">configorg2</span><span class="o">.</span><span class="n">json</span> <span class="o">--</span><span class="n">mspPath</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gopath</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hyperledger</span><span class="o">/</span><span class="n">fabric</span><span class="o">/</span><span class="n">peer</span><span class="o">/</span><span class="n">crypto</span><span class="o">/</span><span class="n">peerOrganizations</span><span class="o">/</span><span class="n">org2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="n">User1</span><span class="nd">@org2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">msp</span> <span class="o">--</span><span class="n">channel</span> <span class="n">mychannel</span>  <span class="o">--</span><span class="n">tokenIDs</span> <span class="s1">&#39;[{&quot;tx_id&quot;:&quot;4eaf466884586106f480dd0bb4f675ddaa54d1290ea53e9c24a2c1344fb71d2c&quot;}]&#39;</span> <span class="o">--</span><span class="n">quantity</span> <span class="mi">50</span>
</pre></div>
</div>
<p>结果将出现以下错误：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">error</span> <span class="kn">from</span> <span class="nn">prover</span><span class="p">:</span> <span class="n">the</span> <span class="n">requestor</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">own</span> <span class="n">inputs</span>
</pre></div>
</div>
</div>
<div class="section" id="future-features">
<h2>Future features<a class="headerlink" href="#future-features" title="永久链接至标题">¶</a></h2>
<p>FabToken Alpha版只支持有限的发行和交易功能。以后的版本将通过支持不可替代的tokens和链码互操作功能，为用户提供更大的能力来将token集成到业务逻辑中，</p>
<p>不可替换的tokens不能合并或分割。一旦它们被创建，它们只能被转账到一个新的所有者或赎回。您可以使用不可替换的token来表示惟一的资产，比如映射到特定座位的音乐会门票。</p>
<p>链码互操作功能允许使用链码发行、转账和赎回tokens。这将允许通道使用通道成员同意的业务逻辑发行和定义token。例如，您可以使用链码设置链码的属性，并将某些属性与不同的交易关联起来。</p>
<!--- Licensed under Creative Commons Attribution 4.0 International License
https://creativecommons.org/licenses/by/4.0/ --></div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../pluggable_endorsement_and_validation.html" class="btn btn-neutral float-right" title="Pluggable transaction endorsement and validation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../endorsement-policies.html" class="btn btn-neutral" title="Endorsement policies" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Hyperledger 2019.
    <br>
      <br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
        <img alt="Creative Commons License" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>