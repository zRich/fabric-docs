

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>超级账本Fabric模型 &mdash; hyperledger-fabricdocs master 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="Blockchain network" href="network/network.html" />
    <link rel="prev" title="超级账本Fabric功能" href="functionalities.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          


          
            <a href="index.html" class="icon icon-home"> hyperledger-fabricdocs
          

          
          </a>

          
            
            
              <div class="version">
                master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

<br><img style="background-color: #fff; height: unset; width: unset;" alt="Hyperledger Fabric" src=_images/hyperledger_fabric_logo_color.png />
<br>
<a href="https://github.com/hyperledger/fabric"><img style="padding: 0px; margin: auto auto auto auto;" alt="GitHub" src="_static/images/github_button.png"/></a>
&nbsp;<a href="https://stackoverflow.com/questions/tagged/hyperledger-fabric"><img style="padding: 0px; margin: auto auto auto auto;" alt="StackOverflow" src="_static/images/stackoverflow_button.png"/></a>
&nbsp;<a href="https://chat.hyperledger.org"><img style="padding: 0px; margin: auto auto auto auto;" alt="Rocket Chat" src="_static/images/rocketchat_button.png"/></a>
&nbsp;<a href="https://www.youtube.com/playlist?list=PL0MZ85B_96CH7wvtrRzV7SvtRY0sI0DEg"><img style="padding: 0px; margin: auto auto auto auto;" alt="Youtube Channel" src="_static/images/youtube_button.png"/></a>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="whatis.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">v2.0 Alpha 新功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html#release-notes">Release notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="key_concepts.html">Key Concepts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="blockchain.html">介绍</a></li>
<li class="toctree-l2"><a class="reference internal" href="functionalities.html">超级账本Fabric功能</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">超级账本Fabric模型</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#assets">资产</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chaincode">链码</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ledger-features">账本特性</a></li>
<li class="toctree-l3"><a class="reference internal" href="#privacy">隐私</a></li>
<li class="toctree-l3"><a class="reference internal" href="#security-membership-services">安全和成员服务</a></li>
<li class="toctree-l3"><a class="reference internal" href="#consensus">共识</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="network/network.html">Blockchain network</a></li>
<li class="toctree-l2"><a class="reference internal" href="identity/identity.html">Identity</a></li>
<li class="toctree-l2"><a class="reference internal" href="membership/membership.html">Membership</a></li>
<li class="toctree-l2"><a class="reference internal" href="peers/peers.html">Peers</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartcontract/smartcontract.html">Smart Contracts and Chaincode</a></li>
<li class="toctree-l2"><a class="reference internal" href="ledger/ledger.html">Ledger</a></li>
<li class="toctree-l2"><a class="reference internal" href="orderer/ordering_service.html">The Ordering Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="private-data/private-data.html">Private data</a></li>
<li class="toctree-l2"><a class="reference internal" href="usecases.html">用例</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="developapps/developing_applications.html">开发应用程序</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="ops_guide.html">操作指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_ref.html">命令参考</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">架构参考</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fabric-FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributions Welcome!</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">发布</a></li>
<li class="toctree-l1"><a class="reference internal" href="questions.html">Still Have Questions?</a></li>
<li class="toctree-l1"><a class="reference internal" href="status.html">Status</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">hyperledger-fabricdocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="key_concepts.html">Key Concepts</a> &raquo;</li>
        
      <li>超级账本Fabric模型</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/fabric_model.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hyperledger-fabric-model">
<h1>超级账本Fabric模型<a class="headerlink" href="#hyperledger-fabric-model" title="永久链接至标题">¶</a></h1>
<p>本节概述了超级账本Fabric结构中的关键设计特性，实现了其全面、可定制的企业区块链解决方案的承诺:</p>
<ul class="simple">
<li><p><span class="xref std std-ref">资产</span> — 资产定义使得几乎任何具有货币价值的东西都可以通过网络进行交换，从全食超市(whole foods)到古董车，再到货币期货。</p></li>
<li><p><span class="xref std std-ref">链码</span> — 链码的执行与交易排序是分开的，这限制了跨节点类型的信任和验证所需的级别，并优化了网络的可伸缩性和性能。</p></li>
<li><p><span class="xref std std-ref">账本特点</span> — 不可改的、共享的账本为每个通道编码整个交易历史，并包含类似sql的查询功能，用于有效的审计和争议解决。</p></li>
<li><p><span class="xref std std-ref">隐私</span> — 通道和私有数据收集支持私有和机密的多边交易，这通常是在公共网络上交换资产的竞争企业和受监管的行业所需要的。</p></li>
<li><p><span class="xref std std-ref">安全会员服务</span> — 被许可的成员资格提供了一个可信的区块链网络，参与者知道所有的交易都可以被授权的监管机构和审计人员检测和跟踪。</p></li>
<li><p><span class="xref std std-ref">共识</span> — 达成共识的独特方法支持企业所需的灵活性和可伸缩性。</p></li>
</ul>
<div class="section" id="assets">
<span id="id1"></span><h2>资产<a class="headerlink" href="#assets" title="永久链接至标题">¶</a></h2>
<p>资产可以是有形的(房地产和硬件)，也可以是无形的(合同和知识产权)。超级账本Fabric提供了使用链码交易修改资产的能力。</p>
<p>资产在超级账本Fabric中表示为键值对的集合，状态更改记录为在:ref:<a href="#id1"><span class="problematic" id="id2">`</span></a>通道`账本上的交易。资产可以用二进制和/或JSON格式表示。</p>
<p>在超级账本Fabric应用程序中，您可以使用`Hyperledger Composer &lt;<a class="reference external" href="https://github.com/hyperledger/composer">https://github.com/hyperledger/composer</a>&gt;`__ 工具轻松定义和使用的资产。</p>
</div>
<div class="section" id="chaincode">
<span id="id2"></span><h2>链码<a class="headerlink" href="#chaincode" title="永久链接至标题">¶</a></h2>
<p>链码是定义一项或多项资产的软件，以及修改资产的交易指令;换句话说，这就是业务逻辑。链码强制执行读取或更改键值对（或其他状态数据库信息）的规则。链码函数针对账本的当前状态数据库执行，并通过交易提议发起。链码执行产生一组键值写(写集)，可以提交给网络并应用于所有peer节点上的账本。</p>
</div>
<div class="section" id="ledger-features">
<span id="id3"></span><h2>账本特性<a class="headerlink" href="#ledger-features" title="永久链接至标题">¶</a></h2>
<p>账本是Fabric中所有状态转变的有序的、防篡改的记录。状态转换是参与方提交的链码调用(“交易”)的结果。每笔交易都会产生一组资产键值对，这些键值对在创建、更新或删除时提交到账本。</p>
<p>账本由一个区块链(“链”)组成，它以区块的形式存储不可变的、有序的记录，以及一个状态数据库来维护当前的fabric状态。每个通道有一个账本。每个peer为其所属的每个通道维护一份账本副本。</p>
<p>Fabric账本的一些特点:</p>
<ul class="simple">
<li><p>查询和使用基于键的查找更新账本、范围查询和组合键查询</p></li>
<li><p>使用富查询语言的只读查询(如果使用CouchDB作为状态数据库)</p></li>
<li><p>只读历史查询——查询某键的账本历史记录，支持数据溯源场景</p></li>
<li><p>交易由链码中读取的键/值(读集)版本和链码中写入的键/值(写集)的版本组成</p></li>
<li><p>交易包含每个背书peer的签名，并提交给排序服务</p></li>
<li><p>交易排序后进入区块，并从排序服务“交付”到通道上的peer</p></li>
<li><p>peer根据背书策略验证交易并执行这些策略</p></li>
<li><p>在添加区块之前，执行版本控制检查，以确保所读取的资产的状态自链码执行时间以来没有更改</p></li>
<li><p>一旦交易被验证和提交，就会有不变性</p></li>
<li><p>通道的账本包含一个定义了策略、访问控制列表和其他相关信息的配置区块</p></li>
<li><p>通道包含 <a class="reference internal" href="glossary.html#msp"><span class="std std-ref">Membership Service Provider</span></a> 实例，允许从不同的证书颁发机构派生加密材料</p></li>
</ul>
<p>有关数据库、存储结构和“查询能力”的更深入研究，请参阅 <span class="xref std std-doc">账本</span> 主题。</p>
</div>
<div class="section" id="privacy">
<span id="id4"></span><h2>隐私<a class="headerlink" href="#privacy" title="永久链接至标题">¶</a></h2>
<p>超级账本Fabric在每个通道的基础上使用一个不可变的账本，以及可以操作和修改资产当前状态(即更新键值对)的链码。一个账本存在于一个通道的范围内——它可以在整个网络中共享(假设每个参与者都在一个公共通道上操作)——或者它可以私有化，只包含一组特定的参与者。</p>
<p>在后一种情况下，这些参与者将创建一个单独的通道，从而隔离/分离他们的交易和账本。为了解决跨越透明度和隐私之间的差距,链码只可以安装于peer,需要访问执行读取和写入的资产状态(换句话说,如果一个链码不是安装在peer,它将无法正确地与账本接口)。</p>
<p>当该通道上的一个组织子集需要对其交易数据保密时，将使用一个私有数据集合(集合)将该数据隔离在一个私有数据库中，从逻辑上与通道账本分离，只有经过授权的组织子集才能访问该数据。</p>
<p>因此，通道使交易对更广泛的网络保持私有，而集合使通道上组织的子集之间的数据保持私有。</p>
<p>为了进一步混淆数据，可以使用常见的加密算法(如AES)对链码中的值进行加密(部分或全部)，然后再将交易发送给排序服务并将区块添加到账本中。一旦加密数据被写入账本，就只能由拥有用于生成密码文本的相应密钥的用户解密。有关链码加密的详细信息，请参阅:doc:<a href="#id1"><span class="problematic" id="id2">`</span></a>chaincode4ade`主题。</p>
<p>有关如何在区块链网络上实现隐私的更多细节，请参阅 <a class="reference internal" href="private-data-arch.html"><span class="doc">私有数据</span></a> 主题。</p>
</div>
<div class="section" id="security-membership-services">
<span id="id5"></span><h2>安全和成员服务<a class="headerlink" href="#security-membership-services" title="永久链接至标题">¶</a></h2>
<p>超级账本Fabric支撑着一个所有参与者都知道身份的交易网络。公钥基础设施用于生成与组织、网络组件、最终用户或客户端应用程序绑定的加密证书。因此，可以在更广泛的网络和通道级别上操纵和控制数据访问控制。这种“许可”概念的超级账本Fabirc，加上通道的存在和功能，有助于解决隐私和机密性是最重要的问题。</p>
<p>请参阅 <a class="reference internal" href="msp.html"><span class="doc">成员服务提供者（MSP）</span></a> 主题，以更好地理解密码实现，以及在超级账本Fabric中使用的签名、验证和身份验证方法。</p>
</div>
<div class="section" id="consensus">
<span id="id6"></span><h2>共识<a class="headerlink" href="#consensus" title="永久链接至标题">¶</a></h2>
<p>在分布式账本技术中，共识最近已经成为特定算法的同义词，在单个函数中。然而，共识不只是简单地同意交易的顺序，这种差异在超级账本Fabric中通过其在整个交易流程(从提议和背书，到排序、验证和担保)中的基本作用得到了强调。简而言之，共识被定义为包含在一个区块中的一组交易的正确性的全循环验证。</p>
<p>当区块的交易的顺序和结果满足显式策略标准检查时，最终就会达成共识。这些检查和平衡发生在交易的生命周期中，包括使用背书策略来规定哪些特定成员必须背书某个交易类，以及系统链码来确保这些策略得到执行和维护。在作出担保之前，peer将使用这些系统链码，以确保存在足够的背书，并且背书来自适当的实体。此外，在将任何包含交易的区块添加到账本之前，还将进行版本检查，在此期间对账本的当前状态达成共识。最后的检查提供了对双重开销操作和其他可能损害数据完整性的威胁的保护，并允许对非静态变量执行函数。</p>
<p>除了进行大量的背书、有效性和版本检查之外，还在交易流的各个方向进行身份验证。访问控制列表是在网络的层次结构层上实现的(从排序服务到通道)，当交易提议通过不同的架构组件时，将重复签名、验证和认证有效负载。综上所述，共识并不仅仅局限于一批交易的商定顺序;相反，它是一个全面的特性，是在交易从提议到担保的过程中进行的验证的副产品。</p>
<p>查看 <a class="reference internal" href="txflow.html"><span class="doc">Transaction Flow</span></a> 图表，以获得共识的可视化表示。</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="network/network.html" class="btn btn-neutral float-right" title="Blockchain network" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="functionalities.html" class="btn btn-neutral" title="超级账本Fabric功能" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Hyperledger 2019.
    <br>
      <br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
        <img alt="Creative Commons License" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>